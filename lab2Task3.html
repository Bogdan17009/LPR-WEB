<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
        let str, stb;

        // Функція для побудови таблиці на основі введених кількості рядків і стовпців
        function fun() {
            str = parseInt(main_form.t_str.value);
            stb = parseInt(main_form.t_stb.value);
            let res_str = "<table border='1' cellspacing='0' cellpadding='5'>\n";
            
            for(let i=1; i<=str; i++) {
                res_str += "<tr>\n";
                for(let j=1; j<=stb; j++) {
                    res_str += "<td>";
                    res_str += "<input type='text' id='_" + i + "_" + j + "' value='" + (3*i + j) + "' size='3'>";
                    res_str += "</td>\n";
                }
                res_str += "</tr>\n";
            }
            res_str += "</table>";
            main_div.innerHTML = res_str;
        }

        // Функція для підрахунку суми елементів з однаковими індексами рядка та стовпця
        function fun_build() {
            let sum = 0;
            for(let i=1; i<=str; i++) {
                for(let j=1; j<=stb; j++) {
                    if (i === j) {
                        let value = parseInt(document.getElementById("_" + i + "_" + j).value);
                        sum += value;
                    }
                }
            }
            alert("Сума елементів, де i = j: " + sum);
        }
    </script>
</head>
<body>

<form id="main_form">
    <table>
        <tr>
            <td>Кількість рядків</td>
            <td><input type="text" id="t_str" value="5"></td>
        </tr>
        <tr>
            <td>Кількість стовпців</td>
            <td><input type="text" id="t_stb" value="5"></td>
        </tr>
        <tr>
            <td><input type="button" onClick="fun();" value="Побудувати таблицю"></td>
        </tr>
        <tr>
            <td><input type="button" onClick="fun_build();" value="Підрахувати суму"></td>
        </tr>
    </table>
</form>

<div id="main_div"></div>

</body>
</html>
